function [F,g] = f2barFox( x )% Function evaluation of objective & constraints for Fox's two-bar truss. % Fox 1971, "Optimization Methods for Engineering Design," p. 12, 130-1.d = x(1);H = x(2);t = 0.1;B = 30.;P = 33.e3;E = 30.e6;Y = 100.e3;rad = sqrt(B^2+H^2);F = 2*pi*d*t*rad;     % Volumestress = P/(pi*t) * rad/(H*d); % Axial stressg(1) = stress/Y - 1;g(2) = stress/E - pi^2/8*(d^2+t^2)/(B^2+H^2); % Bucklingif ~isempty(get(0,'CurrentFigure'))   subplot(1,2,1)   plot(x(1),x(2),'.','Erasemode','none')   drawnow; % Draws current graph now      subplot(1,2,2)   plot(x(1),x(2),'.','Erasemode','none')   drawnow; % Draws current graph nowendend