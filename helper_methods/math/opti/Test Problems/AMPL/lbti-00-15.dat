data;
set materials := NYLON TEFLON STEEL CARBON ALUM EPOXYN EPOXYP ;

set epoxy := EPOXYN EPOXYP ;

param N      := 20;		# max number of intercepts.
param THOT   := 300;		# temperature at the hottest end.
param TCOLD  := 4.2;		# temperature at the coldest end.
param M      := 10;		# max mass of the system.
param F      := 250000;		# max allowed force on the system.
param DELTA  := 5;		# max % expansion allowed.
param L      := 100;		# length of the system.
param SIGMAX := 130000;
param SIGMIN := 1000;
#param C      := 1 5.0 
#	        2 4.0 
#		3 2.5;
param:	 RHO	  D := 
NYLON	 0.0010	  33
TEFLON	 0.0015	  33
STEEL	 0.0078	  33
CARBON	 0.0078	  33	  
ALUM	 0.0027	  33
EPOXYN	 0.0018	  21
EPOXYP	 0.0018	  21 ;


# lookup table data for Temperature
param T :=
[EPOXYP, *] 	1        0 	2      4.2 	3       20 	4    23.92 	5    43.64 	6    63.36 	7       77 	8    83.08 	9    102.8 	10   122.52 	11   142.24 	12   161.96 	13   181.68 	14      195 	15    201.4 	16   221.12 	17   240.84 	18   260.56 	19   280.28 	20      297 	21      300 	
[EPOXYN, *] 	1        0 	2      4.2 	3       20 	4    23.92 	5    43.64 	6    63.36 	7       77 	8    83.08 	9    102.8 	10   122.52 	11   142.24 	12   161.96 	13   181.68 	14      195 	15    201.4 	16   221.12 	17   240.84 	18   260.56 	19   280.28 	20      297 	21      300 	
[NYLON, *] 	1        0 	2        4 	3      4.2 	4 22.222222 	5    23.92 	6    43.64 	7 44.444444 	8 55.555556 	9    63.36 	10 77.777778 	11    83.08 	12      100 	13    102.8 	14 111.11111 	15   122.52 	16 133.33333 	17   142.24 	18 155.55556 	19   161.96 	20 166.66667 	21   181.68 	22 188.88889 	23    201.4 	24 211.11111 	25   221.12 	26 222.22222 	27   240.84 	28 244.44444 	29   260.56 	30 266.66667 	31 277.77778 	32   280.28 	33      300 	
[TEFLON, *] 	1        0 	2        4 	3      4.2 	4 22.222222 	5    23.92 	6    43.64 	7 44.444444 	8 55.555556 	9    63.36 	10 77.777778 	11    83.08 	12      100 	13    102.8 	14 111.11111 	15   122.52 	16 133.33333 	17   142.24 	18 155.55556 	19   161.96 	20 166.66667 	21   181.68 	22 188.88889 	23    201.4 	24 211.11111 	25   221.12 	26 222.22222 	27   240.84 	28 244.44444 	29   260.56 	30 266.66667 	31 277.77778 	32   280.28 	33      300 	
[ALUM, *] 	1        0 	2        4 	3      4.2 	4 22.222222 	5    23.92 	6    43.64 	7 44.444444 	8 55.555556 	9    63.36 	10 77.777778 	11    83.08 	12      100 	13    102.8 	14 111.11111 	15   122.52 	16 133.33333 	17   142.24 	18 155.55556 	19   161.96 	20 166.66667 	21   181.68 	22 188.88889 	23    201.4 	24 211.11111 	25   221.12 	26 222.22222 	27   240.84 	28 244.44444 	29   260.56 	30 266.66667 	31 277.77778 	32   280.28 	33      300 	
[STEEL, *] 	1        0 	2        4 	3      4.2 	4 22.222222 	5    23.92 	6    43.64 	7 44.444444 	8 55.555556 	9    63.36 	10 77.777778 	11    83.08 	12      100 	13    102.8 	14 111.11111 	15   122.52 	16 133.33333 	17   142.24 	18 155.55556 	19   161.96 	20 166.66667 	21   181.68 	22 188.88889 	23    201.4 	24 211.11111 	25   221.12 	26 222.22222 	27   240.84 	28 244.44444 	29   260.56 	30 266.66667 	31 277.77778 	32   280.28 	33      300 	
[CARBON, *] 	1        0 	2        4 	3      4.2 	4 22.222222 	5    23.92 	6    43.64 	7 44.444444 	8 55.555556 	9    63.36 	10 77.777778 	11    83.08 	12      100 	13    102.8 	14 111.11111 	15   122.52 	16 133.33333 	17   142.24 	18 155.55556 	19   161.96 	20 166.66667 	21   181.68 	22 188.88889 	23    201.4 	24 211.11111 	25   221.12 	26 222.22222 	27   240.84 	28 244.44444 	29   260.56 	30 266.66667 	31 277.77778 	32   280.28 	33      300 	;

# lookup table data for Thermal Conductivity
param K :=
[EPOXYP, *] 	1        0 	2 0.00047068659 	3    0.002 	4 0.0022647305 	5 0.0028865448 	6 0.0027777209 	7   0.0026 	8 0.002554026 	9 0.0025855456 	10 0.0028351456 	11 0.0032273821 	12 0.0036868113 	13 0.0041379893 	14   0.0044 	15 0.0045060506 	16 0.0047531189 	17 0.0049000151 	18 0.0049727725 	19 0.0049974241 	20    0.005 	21 0.005000003 	
[EPOXYN, *] 	1        0 	2 0.00035204819 	3   0.0015 	4 0.0017009599 	5 0.0021897161 	6 0.0021303491 	7    0.002 	8 0.0019613012 	9 0.0019491657 	10 0.0020756954 	11 0.0022958458 	12 0.002564573 	13 0.0028368325 	14    0.003 	15 0.0030679163 	16 0.0032346044 	17 0.003347777 	18 0.0034213419 	19 0.0034692068 	20   0.0035 	21 0.0035052797 	
[NYLON, *] 	1        0 	2 0.00012459291 	3 0.00013184246 	4 0.0011074925 	5 0.0012036277 	6 0.0021304792 	7 0.0021630714 	8 0.0025610765 	9 0.0027412462 	10 0.002941777 	11 0.0030109431 	12 0.0032013456 	13 0.0032187803 	14 0.0032532593 	15 0.003303029 	16 0.0033570867 	17 0.0034014376 	18 0.0034609142 	19 0.0034838097 	20 0.0034955233 	21 0.003500089 	22 0.0034955233 	23 0.0034940673 	24 0.0034955233 	25 0.0034955612 	26 0.0034955233 	27 0.0034954861 	28 0.0034955233 	29 0.0034955388 	30 0.0034955233 	31 0.0034955233 	32 0.0034955245 	33 0.0034955233 
[TEFLON, *] 	1        0 	2 0.00046030158 	3 0.00048106375 	4 0.0014795408 	5 0.0015304168 	6 0.0020110956 	7 0.0020246348 	8 0.0021630714 	9 0.0022313406 	10 0.0023361171 	11 0.0023736496 	12 0.0024572491 	13 0.0024601492 	14 0.0024572491 	15 0.0024602217 	16 0.0024745536 	17 0.0024916906 	18 0.0025264673 	19 0.0025468823 	20 0.0025610765 	21 0.0025898968 	22 0.0025956856 	23 0.0025971549 	24 0.0025956856 	25 0.0025956473 	26 0.0025956856 	27 0.0025957231 	28 0.0025956856 	29 0.00259567 	30 0.0025956856 	31 0.0025956856 	32 0.0025956844 	33 0.0025956856 
[ALUM, *] 	1        0 	2 0.34609142 	3 0.36343602 	4 1.8169799 	5 1.9282547 	6 2.7220907 	7 2.7341222 	8 2.7514268 	9 2.6424909 	10 2.3534216 	11 2.2637737 	12 2.0938531 	13 2.0812711 	14 2.0592439 	15 2.0393883 	16 2.0246348 	17 2.0151141 	18 2.0073302 	19 2.0069699 	20 2.0073302 	21 2.0075113 	22 2.0073302 	23 2.0072725 	24 2.0073302 	25 2.0073317 	26 2.0073302 	27 2.0073287 	28 2.0073302 	29 2.0073308 	30 2.0073302 	31 2.0073302 	32 2.0073303 	33 2.0073302 
[STEEL, *] 	1        0 	2 0.0024226399 	3 0.0025596054 	4 0.021803759 	5 0.024081437 	6 0.050917187 	7 0.051913712 	8 0.064026912 	9 0.070783375 	10 0.080985391 	11 0.08446992 	12 0.095002094 	13 0.096579226 	14 0.098982145 	15 0.093856403 	16 0.090675951 	17 0.097028107 	18 0.11299885 	19 0.1185228 	20 0.121132 	21 0.12401044 	22 0.124939 	23 0.12898224 	24 0.13220692 	25 0.13393813 	26 0.13411042 	27 0.13803373 	28 0.13878266 	29 0.14163227 	30 0.14293576 	31 0.14587753 	32 0.14648171 	33 0.15003063
[CARBON, *] 	1        0 	2 0.02941777 	3 0.031164935 	4 0.25956856 	5 0.27878958 	6 0.42894737 	7 0.43434473 	8 0.51048484 	9 0.55070313 	10 0.59527724 	11 0.60604822 	12 0.62988638 	13 0.63281552 	14 0.64026912 	15 0.64731199 	16 0.65065186 	17 0.65123907 	18 0.65065186 	19 0.65059977 	20 0.65065186 	21 0.65067805 	22 0.65065186 	23 0.65064351 	24 0.65065186 	25 0.65065208 	26 0.65065186 	27 0.65065165 	28 0.65065186 	29 0.65065195 	30 0.65065186 	31 0.65065186 	32 0.65065187 	33 0.65065186;

# lookup table data for Expansion
param E :=
[EPOXYP, *] 	1        0 	2 1.1652557e-06 	3 4.926e-06 	4 5.5630013e-06 	5 6.9188219e-06 	6 6.3175679e-06 	7 5.564e-06 	8 5.28881e-06 	9 4.7562973e-06 	10 4.6396229e-06 	11 4.7639126e-06 	12 4.9542924e-06 	13 5.0358883e-06 	14 4.9412e-06 	15 4.8352651e-06 	16 4.2710452e-06 	17 3.4079341e-06 	18 2.323609e-06 	19 1.0957467e-06 	20        0 	21 -1.9797554e-07 	
[EPOXYN, *] 	1        0 	2 8.7214031e-07 	3 3.6945e-06 	4 4.1767501e-06 	5 5.2363293e-06 	6 4.8319525e-06 	7 4.28e-06 	8 4.0706371e-06 	9 3.6263995e-06 	10 3.4555525e-06 	11 3.4468903e-06 	12 3.4892067e-06 	13 3.4712959e-06 	14 3.369e-06 	15 3.282857e-06 	16 2.8714996e-06 	17 2.2767299e-06 	18 1.5462137e-06 	19 7.2761706e-07 	20 -4.2351647e-22 	21 -1.3139415e-07 	
[NYLON, *] 	1        0 	2 1.8036817e-06 	3 1.9085251e-06 	4 1.5914668e-05 	5 1.7278861e-05 	6 2.9950954e-05 	7 3.0369522e-05 	8 3.5240412e-05 	9 3.7173043e-05 	10 3.865495e-05 	11 3.9023044e-05 	12 3.9472591e-05 	13 3.9327059e-05 	14 3.8583655e-05 	15 3.733428e-05 	16 3.6189395e-05 	17 3.5357521e-05 	18 3.388235e-05 	19 3.2897989e-05 	20 3.2088904e-05 	21 2.9318429e-05 	22 2.7894276e-05 	23 2.5291087e-05 	24 2.3210275e-05 	25 2.1041958e-05 	26 2.0798364e-05 	27 1.6428458e-05 	28 1.5520123e-05 	29 1.1229535e-05 	30 9.5427786e-06 	31 6.4317629e-06 	32 5.7200108e-06 	33        0 	
[TEFLON, *] 	1        0 	2 1.2362043e-05 	3 1.2918577e-05 	4 3.9104264e-05 	5 4.036514e-05 	6 5.1610661e-05 	7 5.189139e-05 	8 5.4379614e-05 	9 5.5285017e-05 	10 5.6206977e-05 	11 5.6443376e-05 	12 5.6148141e-05 	13 5.5824631e-05 	14 5.4575502e-05 	15 5.2972754e-05 	16 5.1643934e-05 	17 5.0591232e-05 	18 4.9013466e-05 	19 4.8222781e-05 	20 4.7584801e-05 	21 4.4977601e-05 	22 4.3373907e-05 	23 4.0053317e-05 	24 3.7170218e-05 	25 3.40866e-05 	26 3.3743913e-05 	27 2.7797956e-05 	28 2.6579821e-05 	29 2.1011027e-05 	30 1.9078289e-05 	31 1.5340502e-05 	32 1.4124273e-05 	33        0 	
[ALUM, *] 	1        0 	2 0.001491654 	3 0.0015664163 	4 0.0078311835 	5 0.0083101742 	6 0.011657841 	7 0.011702043 	8 0.011638535 	9 0.011069819 	10 0.0096254945 	11 0.0091482554 	12 0.0080613343 	13 0.0079415007 	14 0.007639795 	15 0.0072353799 	16 0.0068432656 	17 0.0065210333 	18 0.006042064 	19 0.0058117714 	20 0.0056405979 	21 0.0050759959 	22 0.0047975192 	23 0.0043063549 	24 0.0039142939 	25 0.0034986684 	26 0.003452608 	27 0.0026662195 	28 0.0025091628 	29 0.0017835813 	30 0.0015054977 	31 0.0010036651 	32 0.00089083258 	33        0 	
[STEEL, *] 	1        0 	2 7.3696222e-06 	3 7.786199e-06 	4 6.6523269e-05 	5 7.351706e-05 	6 0.000155417 	7 0.00015838874 	8 0.0001934253 	9 0.00021155931 	10 0.00023566749 	11 0.00024292391 	12 0.00026030574 	13 0.00026196231 	14 0.00026032304 	15 0.00023652218 	16 0.00021671552 	17 0.00022079605 	18 0.00023955756 	19 0.00024190923 	20 0.00023984135 	21 0.00021989818 	22 0.00020864813 	23 0.00019345462 	24 0.00018112348 	25 0.00016424323 	26 0.00016227361 	27 0.00012895158 	28 0.00012212874 	29 8.9040562e-05 	30 7.575595e-05 	31 5.1057136e-05 	32 4.5400015e-05 	33        0 	
[CARBON, *] 	1        0 	2 6.1777318e-05 	3 6.5445812e-05 	4 0.00054509398 	5 0.00058550081 	6 0.00089697456 	7 0.00090778048 	8 0.0010567036 	9 0.0011306607 	10 0.0011965072 	11 0.0012050798 	12 0.0011967841 	13 0.0011915717 	14 0.0011716925 	15 0.0011356483 	16 0.0010930951 	17 0.0010523427 	18 0.00098248431 	19 0.00094546867 	20 0.00091741913 	21 0.00082589778 	22 0.00078078224 	23 0.00070065965 	24 0.00063763883 	25 0.00057306664 	26 0.00056606712 	27 0.00044369471 	28 0.00041641719 	29 0.00028115058 	30 0.00023423467 	31 0.00016266297 	32 0.00014617537 	33        0 	;

# lookup table data for Stress
param SIGMA :=
[EPOXYP, *] 	1 80668.692 	2 80580.682 	3 80668.692 	4 80888.59 	5 82995.835 	6 85377.052 	7  86184.5 	8 86140.405 	9 84333.842 	10 80563.009 	11 75580.098 	12 70137.298 	13 64986.798 	14 62052.84 	15 60874.795 	16 58163.887 	17 56607.964 	18 55906.865 	19 55760.425 	20 55847.556 	21 55868.485 	
[EPOXYN, *] 	1 80668.692 	2 80580.682 	3 80668.692 	4 80888.59 	5 82995.835 	6 85377.052 	7  86184.5 	8 86140.405 	9 84333.842 	10 80563.009 	11 75580.098 	12 70137.298 	13 64986.798 	14 62052.84 	15 60874.795 	16 58163.887 	17 56607.964 	18 55906.865 	19 55760.425 	20 55847.556 	21 55868.485 	
[NYLON, *] 	1 20615.332 	2 20546.385 	3 20543.46 	4 20408.49 	5 20390.249 	6 20074.543 	7 20063.752 	8 19925.856 	9 19754.315 	10 19305.328 	11 19132.383 	12 18615.852 	13 18536.562 	14 18271.114 	15 17751.654 	16  17236.9 	17 16909.189 	18 16478.476 	19 16227.53 	20 15995.843 	21 14985.612 	22 14478.996 	23 13757.953 	24 13306.887 	25 12824.309 	26 12755.306 	27 11177.567 	28 10893.721 	29 9913.966 	30 9445.8212 	31 8273.712 	32 8010.0853 	33 6205.284 	
[TEFLON, *] 	1 12962.149 	2 12824.254 	3 12817.534 	4 12272.673 	5 12223.17 	6 11610.259 	7 11583.197 	8 11169.511 	9 10813.112 	10 10204.245 	11 10060.598 	12 9583.7164 	13 9446.718 	14 8963.188 	15 8346.0023 	16 7928.974 	17 7725.0619 	18 7308.4456 	19  6928.85 	20 6618.9696 	21 5844.9874 	22 5653.7032 	23 5540.3054 	24 5240.0176 	25 4497.6765 	26 4412.6464 	27 3425.6276 	28 3309.4848 	29 2887.877 	30 2688.9564 	31 2206.3232 	32 2096.1488 	33 1310.0044 	
[ALUM, *] 	1 35163.276 	2  34473.8 	3 34435.423 	4 29647.468 	5 29160.482 	6 24908.815 	7 24821.136 	8 24131.66 	9 23541.672 	10 22063.232 	11 21540.15 	12 20339.542 	13 20233.406 	14 19994.804 	15 19604.096 	16 19305.328 	17 19245.246 	18 19305.328 	19 19310.658 	20 19305.328 	21 19302.649 	22 19305.328 	23 19306.182 	24 19305.328 	25 19305.306 	26 19305.328 	27 19305.35 	28 19305.328 	29 19305.319 	30 19305.328 	31 19305.328 	32 19305.327 	33 19305.328 	
[STEEL, *] 	1 134792.56 	2 134447.82 	3 134432.49 	4 133758.34 	5 133724.95 	6 133109.21 	7 133068.87 	8 132379.39 	9 131830.01 	10 131000.44 	11 130831.99 	12 130310.96 	13 130147.24 	14 129621.49 	15 129215.28 	16 128932.01 	17 128564.2 	18 128242.54 	19 128325.57 	20 128242.54 	21 126402.01 	22 125484.63 	23 124966.97 	24 124795.16 	25 124183.8 	26 124105.68 	27 122940.86 	28 122726.73 	29 121730.67 	30 121347.78 	31 120658.3 	32 120503.34 	33 119279.35 	
[CARBON, *] 	1 70326.552 	2  68947.6 	3 68878.17 	4 63431.792 	5 63118.704 	6 60191.904 	7 59984.412 	8 56537.032 	9 55123.349 	10 53779.128 	11 52941.414 	12 49642.272 	13 49241.671 	14 48263.32 	15 46769.33 	16 45505.416 	17 44836.837 	18 43436.988 	19 42217.983 	20 41368.56 	21 40237.487 	22 39989.608 	23 39046.921 	24 37921.18 	25 36660.594 	26 36542.228 	27 35336.443 	28 35163.276 	29 34195.196 	30 33784.324 	31 33094.848 	32 32974.087 	33 32405.372 	;
# ... initialize integer variables
let n := 10;
let {i in 1..n+1} y[i] := 1;
let {i in 1..n+1, j in materials} z[i,j] := y[i]/card(materials); 
display n, y, z;

# ... initialize continuous variables
let {i in 1..n+1} x[i] := L/(n+1);
let {i in 0..n+1} t[i] := TCOLD + i*(THOT - TCOLD)/(n+1);
let {i in 1..n+1} a[i] :=  10;
display x, t, a, v, z;

# ... compute derived variables
let {i in 1..n+1} u[i] :=   ( sum{k in materials} w[i,k]*z[i,k] )
                          / ( sum{k in materials} v[i,k]*z[i,k] );
let {i in 1..n+1} q[i] := a[i] * sum{j in materials} v[i,j]*z[i,j] / x[i];
display u,q;

