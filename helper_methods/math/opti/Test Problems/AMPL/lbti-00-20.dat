data;
set materials := NYLON TEFLON STEEL CARBON ALUM EPOXYN EPOXYP ;

set epoxy := EPOXYN EPOXYP ;

param N      := 20;		# max number of intercepts.
param THOT   := 300;		# temperature at the hottest end.
param TCOLD  := 4.2;		# temperature at the coldest end.
param M      := 10;		# max mass of the system.
param F      := 250000;		# max allowed force on the system.
param DELTA  := 5;		# max % expansion allowed.
param L      := 100;		# length of the system.
param SIGMAX := 130000;
param SIGMIN := 1000;
#param C      := 1 5.0 
#	        2 4.0 
#		3 2.5;
param:	 RHO	  D := 
NYLON	 0.0010	  38
TEFLON	 0.0015	  38
STEEL	 0.0078	  38
CARBON	 0.0078	  38	  
ALUM	 0.0027	  38
EPOXYN	 0.0018	  26
EPOXYP	 0.0018	  26 ;

# lookup table data for Temperature
param T :=
[EPOXYP, *] 	1        0 	2      4.2 	3    18.99 	4       20 	5    33.78 	6    48.57 	7    63.36 	8       77 	9    78.15 	10    92.94 	11   107.73 	12   122.52 	13   137.31 	14    152.1 	15   166.89 	16   181.68 	17      195 	18   196.47 	19   211.26 	20   226.05 	21   240.84 	22   255.63 	23   270.42 	24   285.21 	25      297 	26      300 	
[EPOXYN, *] 	1        0 	2      4.2 	3    18.99 	4       20 	5    33.78 	6    48.57 	7    63.36 	8       77 	9    78.15 	10    92.94 	11   107.73 	12   122.52 	13   137.31 	14    152.1 	15   166.89 	16   181.68 	17      195 	18   196.47 	19   211.26 	20   226.05 	21   240.84 	22   255.63 	23   270.42 	24   285.21 	25      297 	26      300 	
[NYLON, *] 	1        0 	2        4 	3      4.2 	4    18.99 	5 22.222222 	6    33.78 	7 44.444444 	8    48.57 	9 55.555556 	10    63.36 	11 77.777778 	12    78.15 	13    92.94 	14      100 	15   107.73 	16 111.11111 	17   122.52 	18 133.33333 	19   137.31 	20    152.1 	21 155.55556 	22 166.66667 	23   166.89 	24   181.68 	25 188.88889 	26   196.47 	27 211.11111 	28   211.26 	29 222.22222 	30   226.05 	31   240.84 	32 244.44444 	33   255.63 	34 266.66667 	35   270.42 	36 277.77778 	37   285.21 	38      300 
[TEFLON, *] 	1        0 	2        4 	3      4.2 	4    18.99 	5 22.222222 	6    33.78 	7 44.444444 	8    48.57 	9 55.555556 	10    63.36 	11 77.777778 	12    78.15 	13    92.94 	14      100 	15   107.73 	16 111.11111 	17   122.52 	18 133.33333 	19   137.31 	20    152.1 	21 155.55556 	22 166.66667 	23   166.89 	24   181.68 	25 188.88889 	26   196.47 	27 211.11111 	28   211.26 	29 222.22222 	30   226.05 	31   240.84 	32 244.44444 	33   255.63 	34 266.66667 	35   270.42 	36 277.77778 	37   285.21 	38      300 
[ALUM, *] 	1        0 	2        4 	3      4.2 	4    18.99 	5 22.222222 	6    33.78 	7 44.444444 	8    48.57 	9 55.555556 	10    63.36 	11 77.777778 	12    78.15 	13    92.94 	14      100 	15   107.73 	16 111.11111 	17   122.52 	18 133.33333 	19   137.31 	20    152.1 	21 155.55556 	22 166.66667 	23   166.89 	24   181.68 	25 188.88889 	26   196.47 	27 211.11111 	28   211.26 	29 222.22222 	30   226.05 	31   240.84 	32 244.44444 	33   255.63 	34 266.66667 	35   270.42 	36 277.77778 	37   285.21 	38      300 
[STEEL, *] 	1        0 	2        4 	3      4.2 	4    18.99 	5 22.222222 	6    33.78 	7 44.444444 	8    48.57 	9 55.555556 	10    63.36 	11 77.777778 	12    78.15 	13    92.94 	14      100 	15   107.73 	16 111.11111 	17   122.52 	18 133.33333 	19   137.31 	20    152.1 	21 155.55556 	22 166.66667 	23   166.89 	24   181.68 	25 188.88889 	26   196.47 	27 211.11111 	28   211.26 	29 222.22222 	30   226.05 	31   240.84 	32 244.44444 	33   255.63 	34 266.66667 	35   270.42 	36 277.77778 	37   285.21 	38      300 
[CARBON, *] 	1        0 	2        4 	3      4.2 	4    18.99 	5 22.222222 	6    33.78 	7 44.444444 	8    48.57 	9 55.555556 	10    63.36 	11 77.777778 	12    78.15 	13    92.94 	14      100 	15   107.73 	16 111.11111 	17   122.52 	18 133.33333 	19   137.31 	20    152.1 	21 155.55556 	22 166.66667 	23   166.89 	24   181.68 	25 188.88889 	26   196.47 	27 211.11111 	28   211.26 	29 222.22222 	30   226.05 	31   240.84 	32 244.44444 	33   255.63 	34 266.66667 	35   270.42 	36 277.77778 	37   285.21 	38      300 ;
# lookup table data for Thermal Conductivity
param K :=
[EPOXYP, *] 	1        0 	2 0.00047068659 	3 0.0019226032 	4    0.002 	5 0.0027056649 	6 0.0029036502 	7 0.0027777209 	8   0.0026 	9 0.0025890623 	10 0.0025378105 	11 0.0026304476 	12 0.0028351456 	13 0.0031200766 	14 0.0034534128 	15 0.0038033263 	16 0.0041379893 	17   0.0044 	18 0.0044255809 	19 0.0046437333 	20 0.0047982171 	21 0.0049000151 	22 0.00496011 	23 0.0049894844 	24 0.0049991212 	25    0.005 	26 0.005000003 	
[EPOXYN, *] 	1        0 	2 0.00035204819 	3 0.0014415022 	4   0.0015 	5 0.0020414043 	6 0.0022090415 	7 0.0021303491 	8    0.002 	9 0.0019912801 	10 0.0019350851 	11 0.0019695578 	12 0.0020756954 	13 0.0022344946 	14 0.0024269526 	15 0.0026340662 	16 0.0028368325 	17    0.003 	18 0.0030162526 	19 0.003158819 	20 0.0032673714 	21 0.003347777 	22 0.0034059033 	23 0.0034476176 	24 0.0034787873 	25   0.0035 	26 0.0035052797 	
[NYLON, *] 	1        0 	2 0.00012459291 	3 0.00013184246 	4 0.00091661919 	5 0.0011074925 	6 0.0017039947 	7 0.0021630714 	8 0.0023249847 	9 0.0025610765 	10 0.0027412462 	11 0.002941777 	12 0.0029464885 	13 0.0031351993 	14 0.0032013456 	15 0.003240695 	16 0.0032532593 	17 0.003303029 	18 0.0033570867 	19 0.0033771284 	20 0.0034466457 	21 0.0034609142 	22 0.0034955233 	23 0.0034959334 	24 0.003500089 	25 0.0034955233 	26 0.0034937523 	27 0.0034955233 	28 0.0034955368 	29 0.0034955233 	30 0.0034954342 	31 0.0034954861 	32 0.0034955233 	33 0.0034955511 	34 0.0034955233 	35 0.0034955202 	36 0.0034955233 	37 0.0034955257 	38 0.0034955233 	
[TEFLON, *] 	1        0 	2 0.00046030158 	3 0.00048106375 	4 0.0013779099 	5 0.0014795408 	6 0.0018015225 	7 0.0020246348 	8 0.0020852228 	9 0.0021630714 	10 0.0022313406 	11 0.0023361171 	12 0.0023387561 	13 0.002433599 	14 0.0024572491 	15 0.0024592114 	16 0.0024572491 	17 0.0024602217 	18 0.0024745536 	19 0.0024816587 	20 0.00251628 	21 0.0025264673 	22 0.0025610765 	23 0.0025616957 	24 0.0025898968 	25 0.0025956856 	26 0.0025974728 	27 0.0025956856 	28 0.002595672 	29 0.0025956856 	30 0.0025957756 	31 0.0025957231 	32 0.0025956856 	33 0.0025956575 	34 0.0025956856 	35 0.0025956888 	36 0.0025956856 	37 0.0025956832 	38 0.0025956856 	
[ALUM, *] 	1        0 	2 0.34609142 	3 0.36343602 	4 1.5879024 	5 1.8169799 	6 2.4425814 	7 2.7341222 	8 2.7708159 	9 2.7514268 	10 2.6424909 	11 2.3534216 	12 2.3465213 	13 2.1443017 	14 2.0938531 	15 2.066403 	16 2.0592439 	17 2.0393883 	18 2.0246348 	19 2.0200554 	20 2.0084311 	21 2.0073302 	22 2.0073302 	23 2.0073465 	24 2.0075113 	25 2.0073302 	26  2.00726 	27 2.0073302 	28 2.0073308 	29 2.0073302 	30 2.0073267 	31 2.0073287 	32 2.0073302 	33 2.0073313 	34 2.0073302 	35 2.0073301 	36 2.0073302 	37 2.0073303 	38 2.0073302 	
[STEEL, *] 	1        0 	2 0.0024226399 	3 0.0025596054 	4 0.017604599 	5 0.021803759 	6 0.03775804 	7 0.051913712 	8 0.056770762 	9 0.064026912 	10 0.070783375 	11 0.080985391 	12 0.081231546 	13 0.09075122 	14 0.095002094 	15 0.098617889 	16 0.098982145 	17 0.093856403 	18 0.090675951 	19 0.092553273 	20 0.1090559 	21 0.11299885 	22 0.121132 	23 0.12122743 	24 0.12401044 	25 0.124939 	26 0.1271489 	27 0.13220692 	28 0.13224344 	29 0.13411042 	30 0.13479364 	31 0.13803373 	32 0.13878266 	33 0.14074945 	34 0.14293576 	35 0.14390158 	36 0.14587753 	37 0.14753494 	38 0.15003063 	
[CARBON, *] 	1        0 	2 0.02941777 	3 0.031164935 	4 0.21862167 	5 0.25956856 	6 0.36417294 	7 0.43434473 	8 0.46317364 	9 0.51048484 	10 0.55070313 	11 0.59527724 	12 0.59610048 	13 0.62147662 	14 0.62988638 	15 0.63746776 	16 0.64026912 	17 0.64731199 	18 0.65065186 	19 0.65110695 	20 0.65080163 	21 0.65065186 	22 0.65065186 	23 0.65065422 	24 0.65067805 	25 0.65065186 	26 0.65064171 	27 0.65065186 	28 0.65065194 	29 0.65065186 	30 0.65065135 	31 0.65065165 	32 0.65065186 	33 0.65065202 	34 0.65065186 	35 0.65065185 	36 0.65065186 	37 0.65065188 	38 0.65065186 	;
# lookup table data for Expansion
param E :=
[EPOXYP, *] 	1        0 	2 1.1652557e-06 	3 4.7381446e-06 	4 4.926e-06 	5 6.5816671e-06 	6 6.8919085e-06 	7 6.3175679e-06 	8 5.564e-06 	9 5.507406e-06 	10 4.9596443e-06 	11 4.6949749e-06 	12 4.6396229e-06 	13 4.7198132e-06 	14 4.8617708e-06 	15 4.9917209e-06 	16 5.0358883e-06 	17 4.9412e-06 	18 4.9205155e-06 	19 4.5953713e-06 	20 4.0802542e-06 	21 3.4079341e-06 	22 2.6111811e-06 	23 1.7227652e-06 	24 7.7545629e-07 	25        0 	26 -1.9797554e-07 	
[EPOXYN, *] 	1        0 	2 8.7537114e-07 	3 3.5538484e-06 	4 3.6945e-06 	5 4.9302156e-06 	6 5.1626858e-06 	7 4.7713117e-06 	8 4.28e-06 	9 4.2441748e-06 	10 3.9064398e-06 	11 3.7471509e-06 	12 3.6996346e-06 	13 3.7044006e-06 	14 3.7096878e-06 	15 3.6721608e-06 	16 3.5577547e-06 	17 3.369e-06 	18 3.3426759e-06 	19 3.0206995e-06 	20 2.6107688e-06 	21 2.133994e-06 	22 1.6088377e-06 	23 1.0506554e-06 	24 4.7134234e-07 	25        0 	26 -1.2091201e-07 	
[NYLON, *] 	1        0 	2 1.8036817e-06 	3 1.9085251e-06 	4 1.3194113e-05 	5 1.5914668e-05 	6 2.4266692e-05 	7 3.0369522e-05 	8 3.240881e-05 	9 3.5240412e-05 	10 3.7173043e-05 	11 3.865495e-05 	12 3.8680895e-05 	13 3.9509656e-05 	14 3.9472591e-05 	15 3.8924622e-05 	16 3.8583655e-05 	17 3.733428e-05 	18 3.6189395e-05 	19 3.5812615e-05 	20 3.4328839e-05 	21 3.388235e-05 	22 3.2088904e-05 	23 3.2049564e-05 	24 2.9318429e-05 	25 2.7894276e-05 	26 2.633254e-05 	27 2.3210275e-05 	28 2.3178277e-05 	29 2.0798364e-05 	30 1.9940322e-05 	31 1.6428458e-05 	32 1.5520123e-05 	33 1.2573505e-05 	34 9.5427786e-06 	35 8.4989518e-06 	36 6.4317629e-06 	37 4.3051627e-06 	38        0 	
[TEFLON, *] 	1        0 	2 1.2362043e-05 	3 1.2918577e-05 	4 3.6556553e-05 	5 3.9104264e-05 	6 4.6908621e-05 	7 5.189139e-05 	8 5.3078477e-05 	9 5.4379614e-05 	10 5.5285017e-05 	11 5.6206977e-05 	12 5.6224988e-05 	13 5.6563226e-05 	14 5.6148141e-05 	15 5.5105413e-05 	16 5.4575502e-05 	17 5.2972754e-05 	18 5.1643934e-05 	19 5.1172407e-05 	20 4.942655e-05 	21 4.9013466e-05 	22 4.7584801e-05 	23 4.7552691e-05 	24 4.4977601e-05 	25 4.3373907e-05 	26 4.1430715e-05 	27 3.7170218e-05 	28 3.7124895e-05 	29 3.3743913e-05 	30 3.2550529e-05 	31 2.7797956e-05 	32 2.6579821e-05 	33 2.2683721e-05 	34 1.9078289e-05 	35 1.7969056e-05 	36 1.5340502e-05 	37 1.1214634e-05 	38        0 	
[ALUM, *] 	1        0 	2 0.001491654 	3 0.0015664163 	4 0.0068445062 	5 0.0078311835 	6 0.010511637 	7 0.011702043 	8 0.011813879 	9 0.011638535 	10 0.011069819 	11 0.0096254945 	12 0.0095897685 	13 0.0084366489 	14 0.0080613343 	15 0.0077572521 	16 0.007639795 	17 0.0072353799 	18 0.0068432656 	19 0.0066991592 	20 0.0061661363 	21 0.006042064 	22 0.0056405979 	23 0.0056324058 	24 0.0050759959 	25 0.0047975192 	26 0.0045013586 	27 0.0039142939 	28 0.0039081845 	29 0.003452608 	30 0.0032926543 	31 0.0026662195 	32 0.0025091628 	33 0.0020080686 	34 0.0015054977 	35 0.0013355173 	36 0.0010036651 	37 0.00066834348 	38        0 	
[STEEL, *] 	1        0 	2 7.3696222e-06 	3 7.786199e-06 	4 5.3655884e-05 	5 6.6523269e-05 	6 0.00011552426 	7 0.00015838874 	8 0.0001727091 	9 0.0001934253 	10 0.00021155931 	11 0.00023566749 	12 0.0002361963 	13 0.00025435309 	14 0.00026030574 	15 0.00026260941 	16 0.00026032304 	17 0.00023652218 	18 0.00021671552 	19 0.00021638612 	20 0.00023557686 	21 0.00023955756 	22 0.00023984135 	23 0.00023967401 	24 0.00021989818 	25 0.00020864813 	26 0.00019905517 	27 0.00018112348 	28 0.00018090198 	29 0.00016227361 	30 0.0001554813 	31 0.00012895158 	32 0.00012212874 	33 9.9532756e-05 	34 7.575595e-05 	35 6.7485855e-05 	36 5.1057136e-05 	37 3.4161762e-05 	38        0 	
[CARBON, *] 	1        0 	2 6.1777318e-05 	3 6.5445812e-05 	4 0.00045905456 	5 0.00054509398 	6 0.00076449465 	7 0.00090778048 	8 0.00096496072 	9 0.0010567036 	10 0.0011306607 	11 0.0011965072 	12 0.0011973239 	13 0.0012057713 	14 0.0011967841 	15 0.0011805083 	16 0.0011716925 	17 0.0011356483 	18 0.0010930951 	19 0.0010755155 	20 0.0010015996 	21 0.00098248431 	22 0.00091741913 	23 0.00091607863 	24 0.00082589778 	25 0.00078078224 	26 0.00073245046 	27 0.00063763883 	28 0.00063667145 	29 0.00056606712 	30 0.000541942 	31 0.00044369471 	32 0.00041641719 	33 0.00032257598 	34 0.00023423467 	35 0.0002090051 	36 0.00016266297 	37 0.0001118544 	38        0 	;
# lookup table data for Stress
param SIGMA :=
[EPOXYP, *] 	1 80668.692 	2 80580.682 	3 80627.709 	4 80668.692 	5 81788.915 	6 83639.862 	7 85377.052 	8  86184.5 	9 86196.982 	10 85529.669 	11 83545.902 	12 80563.009 	13 76898.323 	14 72869.172 	15 68792.887 	16 64986.798 	17 62052.84 	18 61768.163 	19 59356.208 	20 57678.352 	21 56607.964 	22 56018.415 	23 55783.072 	24 55775.306 	25 55847.556 	26 55868.485 	
[EPOXYN, *] 	1 80668.692 	2 80580.682 	3 80627.709 	4 80668.692 	5 81788.915 	6 83639.862 	7 85377.052 	8  86184.5 	9 86196.982 	10 85529.669 	11 83545.902 	12 80563.009 	13 76898.323 	14 72869.172 	15 68792.887 	16 64986.798 	17 62052.84 	18 61768.163 	19 59356.208 	20 57678.352 	21 56607.964 	22 56018.415 	23 55783.072 	24 55775.306 	25 55847.556 	26 55868.485 	
[NYLON, *] 	1 20615.332 	2 20546.385 	3 20543.46 	4 20434.238 	5 20408.49 	6 20237.475 	7 20063.752 	8  20015.5 	9 19925.856 	10 19754.315 	11 19305.328 	12 19293.066 	13 18823.484 	14 18615.852 	15 18388.888 	16 18271.114 	17 17751.654 	18  17236.9 	19 17079.999 	20 16595.339 	21 16478.476 	22 15995.843 	23 15983.54 	24 14985.612 	25 14478.996 	26 14018.765 	27 13306.887 	28 13300.439 	29 12755.306 	30 12478.19 	31 11177.567 	32 10893.721 	33 10212.821 	34 9445.8212 	35 9077.2779 	36 8273.712 	37 7521.5324 	38 6205.284 	
[TEFLON, *] 	1 12962.149 	2 12824.254 	3 12817.534 	4 12366.272 	5 12272.673 	6 11927.209 	7 11583.197 	8 11440.227 	9 11169.511 	10 10813.112 	11 10204.245 	12 10192.579 	13 9830.1412 	14 9583.7164 	15 9165.9104 	16 8963.188 	17 8346.0023 	18 7928.974 	19 7829.0591 	20 7458.528 	21 7308.4456 	22 6618.9696 	23 6604.6142 	24 5844.9874 	25 5653.7032 	26 5582.924 	27 5240.0176 	28  5231.64 	29 4412.6464 	30 4143.4679 	31 3425.6276 	32 3309.4848 	33 3018.5596 	34 2688.9564 	35 2536.7881 	36 2206.3232 	37 1888.3675 	38 1310.0044 	
[ALUM, *] 	1 35163.276 	2  34473.8 	3 34435.423 	4 30592.346 	5 29647.468 	6 26616.831 	7 24821.136 	8 24492.744 	9 24131.66 	10 23541.672 	11 22063.232 	12 22024.978 	13 20733.913 	14 20339.542 	15 20088.764 	16 19994.804 	17 19604.096 	18 19305.328 	19 19258.765 	20 19290.004 	21 19305.328 	22 19305.328 	23 19305.087 	24 19302.649 	25 19305.328 	26 19306.367 	27 19305.328 	28 19305.32 	29 19305.328 	30 19305.38 	31 19305.35 	32 19305.328 	33 19305.312 	34 19305.328 	35 19305.33 	36 19305.328 	37 19305.327 	38 19305.328 	
[STEEL, *] 	1 134792.56 	2 134447.82 	3 134432.49 	4 133821.65 	5 133758.34 	6 133488.86 	7 133068.87 	8 132837.77 	9 132379.39 	10 131830.01 	11 131000.44 	12 130986.09 	13 130589.7 	14 130310.96 	15 129824.83 	16 129621.49 	17 129215.28 	18 128932.01 	19 128777.18 	20 128255.92 	21 128242.54 	22 128242.54 	23 128231.32 	24 126402.01 	25 125484.63 	26 125052.49 	27 124795.16 	28 124789.37 	29 124105.68 	30 123845.3 	31 122940.86 	32 122726.73 	33 122039.76 	34 121347.78 	35 121114.07 	36 120658.3 	37 120197.73 	38 119279.35 	
[CARBON, *] 	1 70326.552 	2  68947.6 	3 68878.17 	4 64161.914 	5 63431.792 	6 61846.699 	7 59984.412 	8 58727.568 	9 56537.032 	10 55123.349 	11 53779.128 	12 53730.512 	13 50946.857 	14 49642.272 	15 48651.275 	16 48263.32 	17 46769.33 	18 45505.416 	19 45181.616 	20 43938.984 	21 43436.988 	22 41368.56 	23 41334.49 	24 40237.487 	25 39989.608 	26 39500.024 	27 37921.18 	28 37902.044 	29 36542.228 	30 36188.295 	31 35336.443 	32 35163.276 	33 34517.115 	34 33784.324 	35 33533.669 	36 33094.848 	37 32779.474 	38 32405.372 	;
# ... initialize integer variables
let n := 10;
let {i in 1..n+1} y[i] := 1;
let {i in 1..n+1, j in materials} z[i,j] := y[i]/card(materials); 
display n, y, z;

# ... initialize continuous variables
let {i in 1..n+1} x[i] := L/(n+1);
let {i in 0..n+1} t[i] := TCOLD + i*(THOT - TCOLD)/(n+1);
let {i in 1..n+1} a[i] :=  10;
display x, t, a, v, z;

# ... compute derived variables
let {i in 1..n+1} u[i] :=   ( sum{k in materials} w[i,k]*z[i,k] )
                          / ( sum{k in materials} v[i,k]*z[i,k] );
let {i in 1..n+1} q[i] := a[i] * sum{j in materials} v[i,j]*z[i,j] / x[i];
display u,q;

